<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="HELM #  helm/helm  Helm is the best way to find, share, and use software built for Kubernetes.
 官网：https://helm.sh
Helm is a tool for managing Charts. Charts are packages of pre-configured Kubernetes resources.
Use Helm to:
 Find and use popular software packaged as Helm Charts to run in Kubernetes Share your own applications as Helm Charts Create reproducible builds of your Kubernetes applications Intelligently manage your Kubernetes manifest files Manage releases of Helm packages   基本概念 #   Chart：一个 Helm 包，其中包含了运行一个应用所需要的镜像、依赖和资源定义等，还可能包含 Kubernetes 集群中的服务定义，  Chart 是用来封装 Kubernetes 原生应用程序的一系列 YAML 文件集合 类似  Homebrew 中的 formula apt 的 dpkg yum/dnf 的 rpm     Repository：用于发布和存储 Chart 的存储库。 Release：在 Kubernetes 集群上运行的 Chart 的一个实例。在同一个集群上，一个 Chart 可以安装很多次。每次安装都会创建一个新的 release。例如一个 MySQL Chart，如果想在服务器上运行两个数据库，就可以把这个 Chart 安装两次。每次安装都会生成自己的 Release，会有自己的 Release 名称。 Tiller 是 Helm2 的服务端，通常运行在您的 kubernetes 集群中。Tiller 用于接收 Helm 的请求，并根据 Chart 生成 Kubernetes 的部署文件，然后提交给 Kubernetes 创建应用。  HElm3 中删除了 Tiller，只有客户端使用，调用 ~/.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="Helm" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://ikingye.github.io/study-kubernetes/docs/advanced/tool/helm/" />

<title>Helm | Kubernetes 学习笔记</title>
<link rel="manifest" href="/study-kubernetes/manifest.json">
<link rel="icon" href="/study-kubernetes/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/study-kubernetes/book.min.ce0f902f11a0f7675f61f65c2edd624054c6ccc1465f48c5761565b68b9daa75.css" integrity="sha256-zg&#43;QLxGg92dfYfZcLt1iQFTGzMFGX0jFdhVltoudqnU=">
<script defer src="/study-kubernetes/en.search.min.8e4bfae8d67bf71fa6592db34ad6ee939e205cd324066bcdab796786d3b1fb49.js" integrity="sha256-jkv66NZ79x&#43;mWS2zStbuk54gXNMkBmvNq3lnhtOx&#43;0k="></script>
<link rel="alternate" type="application/rss+xml" href="https://ikingye.github.io/study-kubernetes/docs/advanced/tool/helm/index.xml" title="Kubernetes 学习笔记" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/study-kubernetes"><span>Kubernetes 学习笔记</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



<ul>
  <li><a href="https://kingye.me" target="_blank" rel="noopener noreferrer">博客</a></li>
  <li><a href="https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200417021727.png" target="_blank" rel="noopener noreferrer">公众号</a></li>
  <li><a href="https://github.com/ikingye" target="_blank" rel="noopener noreferrer">Github</a></li>
  <li><a href="https://weibo.com/kingyip15215" target="_blank" rel="noopener noreferrer">微博</a></li>
  <li><a href="https://www.zhihu.com/people/wutongyip" target="_blank" rel="noopener noreferrer">知乎</a></li>
</ul>
<hr />








  



  
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <span>第一部分 基础入门</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/basic/quick/" class="collapsed ">1.1 快速上手</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/basic/concept/" class="collapsed ">1.2 概念</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/basic/arch/" class="collapsed ">1.3 架构</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/basic/other/" class="collapsed ">1.4 其他</a>
  

          
  
  
  

  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <span>第二部分 进阶实战</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/deploy/" class="collapsed ">2.1 部署</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/tool/" class="collapsed ">2.2 工具</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/tool/kubectl/" class="">Kubectl</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/tool/kustomize/" class="">Kustomize</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/tool/helm/" class="active">Helm</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/tool/client-go/" class="">client-go</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/feature/" class="collapsed ">2.3 功能</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/debug/" class="collapsed ">2.5 故障排查</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/prof/" class="collapsed ">2.6 性能</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/test/test/" class="">2.7 测试</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/eco/" class="">2.8 生态</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/eco/docker/" class="collapsed ">Docker</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/eco/kata/" class="collapsed ">Kata</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/eco/kubevirt/" class="collapsed ">KubeVirt</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/eco/k3s/" class="collapsed ">K3s</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/eco/oam/" class="">OAM</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/eco/oam/kubevela/" class="">KubeVela</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/eco/kubeedge/" class="collapsed ">KubeEdge</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/eco/knative/" class="collapsed ">Knative</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/eco/kubeflow/" class="collapsed ">Kubeflow</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/advanced/eco/kubeless/" class="">Kubeless</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/code/" class="">第三部分 设计与实现</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/code/component/" class="collapsed ">3.1 Kubernetes 组件</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/code/crd/" class="collapsed ">3.2 CRD</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/code/source/" class="">3.7 源码分析</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/code/source/1.19.3/" class="collapsed ">1.19.3</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/code/source/1.0.0/" class="collapsed ">1.0.0</a>
  

          
  
  
  

  

        </li>
      
    
  </ul>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <span>第四部分 附录</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/appendix/tutorial/" class="">4.1 教程</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/appendix/interview/" class="">4.2 面试题</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/study-kubernetes/docs/appendix/attention/" class="">4.3 关注项目</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
  </ul>
  














<hr />
<ul>
  <li><a href="https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200417022040.png" target="_blank" rel="noopener noreferrer">微信</a></li>
  <li><a href="https://qm.qq.com/cgi-bin/qm/qr?k=EUhzg0UwUksxpQnwEmPngRLezlC6qrnn&jump_from=webapi" target="_blank" rel="noopener noreferrer"><img src="//pub.idqqimg.com/wpa/images/group.png"></a></li>
</ul>


</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/study-kubernetes/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Helm</strong>

  <label for="toc-control">
    
    <img src="/study-kubernetes/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents">
  <ul>
    <li><a href="#基本概念">基本概念</a></li>
    <li><a href="#命令">命令</a></li>
    <li><a href="#开源镜像">开源镜像</a>
      <ul>
        <li><a href="#burdenbearkube-charts-mirrorhttpsgithubcomburdenbearkube-charts-mirror-github-starshttpsimgshieldsiogithubstarsburdenbearkube-charts-mirrorsvg"><a href="https://github.com/BurdenBear/kube-charts-mirror">BurdenBear/kube-charts-mirror</a> <img src="https://img.shields.io/github/stars/BurdenBear/kube-charts-mirror.svg" alt="Github stars"></a></li>
      </ul>
    </li>
    <li><a href="#todo">TODO</a></li>
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="helm">
  HELM
  <a class="anchor" href="#helm">#</a>
</h1>
<p><a href="https://github.com/helm/helm">helm/helm</a> <img src="https://img.shields.io/github/stars/helm/helm.svg" alt="Github stars" /> <img src="https://img.shields.io/github/languages/top/helm/helm.svg" alt="Language" /> <img src="https://img.shields.io/github/v/tag/helm/helm.svg?sort=semver" alt="Last Tag" /> <img src="https://img.shields.io/github/last-commit/helm/helm.svg" alt="Last commit" /></p>
<blockquote>
<p>Helm is the best way to find, share, and use software built for Kubernetes.</p>
</blockquote>
<p>官网：<a href="https://helm.sh/">https://helm.sh</a></p>
<p>Helm is a tool for managing Charts. Charts are packages of pre-configured Kubernetes resources.</p>
<p>Use Helm to:</p>
<ul>
<li>Find and use popular software packaged as Helm Charts to run in Kubernetes</li>
<li>Share your own applications as Helm Charts</li>
<li>Create reproducible builds of your Kubernetes applications</li>
<li>Intelligently manage your Kubernetes manifest files</li>
<li>Manage releases of Helm packages</li>
</ul>
<hr>
<h2 id="基本概念">
  基本概念
  <a class="anchor" href="#%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5">#</a>
</h2>
<ul>
<li>Chart：一个 Helm 包，其中包含了运行一个应用所需要的镜像、依赖和资源定义等，还可能包含 Kubernetes 集群中的服务定义，
<ul>
<li>Chart 是用来封装 Kubernetes 原生应用程序的一系列 YAML 文件集合</li>
<li>类似
<ul>
<li>Homebrew 中的 formula</li>
<li>apt 的 dpkg</li>
<li>yum/dnf 的 rpm</li>
</ul>
</li>
</ul>
</li>
<li>Repository：用于发布和存储 Chart 的存储库。</li>
<li>Release：在 Kubernetes 集群上运行的 Chart 的一个实例。在同一个集群上，一个 Chart 可以安装很多次。每次安装都会创建一个新的 release。例如一个 MySQL Chart，如果想在服务器上运行两个数据库，就可以把这个 Chart 安装两次。每次安装都会生成自己的 Release，会有自己的 Release 名称。</li>
<li>Tiller 是 Helm2 的服务端，通常运行在您的 kubernetes 集群中。Tiller 用于接收 Helm 的请求，并根据 Chart 生成 Kubernetes 的部署文件，然后提交给 Kubernetes 创建应用。
<ul>
<li>HElm3 中删除了 Tiller，只有客户端使用，调用 ~/.kube/config 来访问 api server 进行创建</li>
</ul>
</li>
</ul>
<h2 id="命令">
  命令
  <a class="anchor" href="#%e5%91%bd%e4%bb%a4">#</a>
</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  completion  generate autocompletions script <span style="color:#66d9ef">for</span> the specified shell
  create      create a new chart with the given name
  dependency  manage a chart<span style="color:#960050;background-color:#1e0010">&#39;</span>s dependencies
  env         helm client environment information
  get         download extended information of a named release
  help        Help about any command
  history     fetch release history
  install     install a chart
  lint        examine a chart <span style="color:#66d9ef">for</span> possible issues
  list        list releases
  package     package a chart directory into a chart archive
  plugin      install, list, or uninstall Helm plugins
  pull        download a chart from a repository and <span style="color:#f92672">(</span>optionally<span style="color:#f92672">)</span> unpack it in local directory
  repo        add, list, remove, update, and index chart repositories
  rollback    roll back a release to a previous revision
  search      search <span style="color:#66d9ef">for</span> a keyword in charts
  show        show information of a chart
  status      display the status of the named release
  template    locally render templates
  test        run tests <span style="color:#66d9ef">for</span> a release
  uninstall   uninstall a release
  upgrade     upgrade a release
  verify      verify that a chart at the given path has been signed and is valid
  version     print the client version information
</code></pre></div><hr>
<h2 id="开源镜像">
  开源镜像
  <a class="anchor" href="#%e5%bc%80%e6%ba%90%e9%95%9c%e5%83%8f">#</a>
</h2>
<a href="https://github.com/BurdenBear/kube-charts-mirror">BurdenBear/kube-charts-mirror</a> <h3 id="burdenbearkube-charts-mirrorhttpsgithubcomburdenbearkube-charts-mirror-github-starshttpsimgshieldsiogithubstarsburdenbearkube-charts-mirrorsvg">
  <img src="https://img.shields.io/github/stars/BurdenBear/kube-charts-mirror.svg" alt="Github stars" />
  <a class="anchor" href="#burdenbearkube-charts-mirrorhttpsgithubcomburdenbearkube-charts-mirror-github-starshttpsimgshieldsiogithubstarsburdenbearkube-charts-mirrorsvg">#</a>
</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># 删除默认的源</span>
helm repo remove stable
helm repo remove incubator

<span style="color:#75715e"># 增加新的国内镜像源</span>
helm repo add stable http://mirror.azure.cn/kubernetes/charts/

helm repo add incubator http://mirror.azure.cn/kubernetes/charts-incubator/

helm repo list

helm search repo mysql
</code></pre></div><hr>
<h2 id="todo">
  TODO
  <a class="anchor" href="#todo">#</a>
</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># Initialize a Helm Chart Repository</span>
$ helm repo add stable https://kubernetes-charts.storage.googleapis.com/

<span style="color:#75715e"># list the charts you can install</span>
$ helm search repo stable

<span style="color:#75715e"># Install an Example Chart</span>
$ helm repo update
$ helm install stable/mysql --generate-name
NAME: mysql-1596179301
LAST DEPLOYED: Fri Jul <span style="color:#ae81ff">31</span> 15:08:27 <span style="color:#ae81ff">2020</span>
NAMESPACE: default
STATUS: deployed
REVISION: <span style="color:#ae81ff">1</span>
NOTES:
MySQL can be accessed via port <span style="color:#ae81ff">3306</span> on the following DNS name from within your cluster:
mysql-1596179301.default.svc.cluster.local

To get your root password run:

    MYSQL_ROOT_PASSWORD<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>kubectl get secret --namespace default mysql-1596179301 -o jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{.data.mysql-root-password}&#34;</span> | base64 --decode; echo<span style="color:#66d9ef">)</span>

To connect to your database:

1. Run an Ubuntu pod that you can use as a client:

    kubectl run -i --tty ubuntu --image<span style="color:#f92672">=</span>ubuntu:16.04 --restart<span style="color:#f92672">=</span>Never -- bash -il

2. Install the mysql client:

    $ apt-get update <span style="color:#f92672">&amp;&amp;</span> apt-get install mysql-client -y

3. Connect using the mysql cli, <span style="color:#66d9ef">then</span> provide your password:
    $ mysql -h mysql-1596179301 -p

To connect to your database directly from outside the K8s cluster:
    MYSQL_HOST<span style="color:#f92672">=</span>127.0.0.1
    MYSQL_PORT<span style="color:#f92672">=</span><span style="color:#ae81ff">3306</span>

    <span style="color:#75715e"># Execute the following command to route the connection:</span>
    kubectl port-forward svc/mysql-1596179301 <span style="color:#ae81ff">3306</span>

    mysql -h <span style="color:#e6db74">${</span>MYSQL_HOST<span style="color:#e6db74">}</span> -P<span style="color:#e6db74">${</span>MYSQL_PORT<span style="color:#e6db74">}</span> -u root -p<span style="color:#e6db74">${</span>MYSQL_ROOT_PASSWORD<span style="color:#e6db74">}</span>
</code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">



  <div><a class="flex align-center" href="https://github.com/ikingye/study-kubernetes/commit/8c0b1ef8cb004ccf0d0281d2b4711ac6a11aed2d" title='Last modified by yewang | 2021-02-04' target="_blank" rel="noopener">
      <img src="/study-kubernetes/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>2021-02-04</span>
    </a>
  </div>



</div>

 
        <div>
    <br>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <p><span id="busuanzi_container_page_pv">本文访问量 <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> 次</span></p>
    <p><span id="busuanzi_container_site_pv">本站总访问量 <span id="busuanzi_value_site_pv"><i class="fa fa-spinner fa-spin"></i></span> 次</span></p>
    <p><span id="busuanzi_container_site_uv">本站总访客数 <span id="busuanzi_value_site_uv"><i class="fa fa-spinner fa-spin"></i></span> 人次</span></p>
</div>


      </footer>

      
  
  <div class="book-comments">
<script src="https://utteranc.es/client.js"
  repo="ikingye/study-kubernetes"
  issue-term="pathname"
  theme="github-light"
  crossorigin="anonymous"
  async
></script>

<div id="footer">
  <p>
    <a href="https://kingye.me">叶王</a> &copy; 2013-2020
    版权所有。如果本文档对你有所帮助，可以<a
      href="https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200428110046.png"
      target="_blank"
      rel="noopener noreferrer"
      >请作者喝饮料</a
    >。
  </p>
</div>

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#基本概念">基本概念</a></li>
    <li><a href="#命令">命令</a></li>
    <li><a href="#开源镜像">开源镜像</a>
      <ul>
        <li><a href="#burdenbearkube-charts-mirrorhttpsgithubcomburdenbearkube-charts-mirror-github-starshttpsimgshieldsiogithubstarsburdenbearkube-charts-mirrorsvg"><a href="https://github.com/BurdenBear/kube-charts-mirror">BurdenBear/kube-charts-mirror</a> <img src="https://img.shields.io/github/stars/BurdenBear/kube-charts-mirror.svg" alt="Github stars"></a></li>
      </ul>
    </li>
    <li><a href="#todo">TODO</a></li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












