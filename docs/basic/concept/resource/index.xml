<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>API 对象 on Kubernetes 学习笔记</title>
    <link>https://kingye.me/study-kubernetes/docs/basic/concept/resource/</link>
    <description>Recent content in API 对象 on Kubernetes 学习笔记</description>
    <generator>Hugo</generator>
    <language>en</language>
    <atom:link href="https://kingye.me/study-kubernetes/docs/basic/concept/resource/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Pod</title>
      <link>https://kingye.me/study-kubernetes/docs/basic/concept/resource/pod/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://kingye.me/study-kubernetes/docs/basic/concept/resource/pod/</guid>
      <description>&lt;h1 id=&#34;pod&#34;&gt;&#xA;  Pod&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#pod&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;操作&#34;&gt;&#xA;  操作&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e6%93%8d%e4%bd%9c&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;删除被驱逐的 pod&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;kubectl get pods | grep Evicted | awk &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt; | xargs kubectl delete pod&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;infra-容器&#34;&gt;&#xA;  Infra 容器&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#infra-%e5%ae%b9%e5%99%a8&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;使用镜像：&lt;code&gt;k8s.gcr.io/pause&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;这个镜像是一个用汇编语言编写的、永远处于 “暂停” 状态的容器，解压后的大小也只有 100~200 KB 左右。&lt;/p&gt;&#xA;&lt;h2 id=&#34;init-容器&#34;&gt;&#xA;  Init 容器&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#init-%e5%ae%b9%e5%99%a8&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;以 Init: 开始的 Pod 状态概括表示 Init 容器的执行状态。&lt;/p&gt;&#xA;&lt;p&gt;下表展示了在调试 Init 容器时可能见到的状态值。&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;状态&lt;/th&gt;&#xA;          &lt;th&gt;含义&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;Init:N/M&lt;/td&gt;&#xA;          &lt;td&gt;Pod 中有 M 个 Init 容器，其中 M 已经完成&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;Init:Error&lt;/td&gt;&#xA;          &lt;td&gt;Init 容器执行错误&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;Init:CrashLoopBackOff&lt;/td&gt;&#xA;          &lt;td&gt;Init 容器已经失败多次&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;Pending&lt;/td&gt;&#xA;          &lt;td&gt;Pod 还没有开始执行 Init 容器&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;PodInitializing or Running&lt;/td&gt;&#xA;          &lt;td&gt;Pod 已经完成执行 Init 容器&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;如果一个 Pod 停滞在 Pending 状态，表示 Pod 没有被调度到节点上。通常这是因为 某种类型的资源不足导致无法调度。 查看上面的 kubectl describe &amp;hellip; 命令的输出，其中应该显示了为什么没被调度的原因。&lt;/p&gt;</description>
    </item>
    <item>
      <title>replicaset</title>
      <link>https://kingye.me/study-kubernetes/docs/basic/concept/resource/replicaset/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://kingye.me/study-kubernetes/docs/basic/concept/resource/replicaset/</guid>
      <description>&lt;h1 id=&#34;replicaset&#34;&gt;&#xA;  replicaset&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#replicaset&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;问答&#34;&gt;&#xA;  问答&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e9%97%ae%e7%ad%94&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;replicaset-vs-deployment&#34;&gt;&#xA;  replicaset vs deployment？&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#replicaset-vs-deployment&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;ReplicaSet&lt;/code&gt; 是下一代 &lt;code&gt;ReplicationController&lt;/code&gt;， 支持新的基于集合的标签选择算符。&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;ReplicaSet&lt;/code&gt; 并&lt;strong&gt;不&lt;/strong&gt;直接支持&lt;strong&gt;滚动更新&lt;/strong&gt;，&lt;a href=&#34;https://kubernetes.io/zh/docs/concepts/workloads/controllers/replicaset/&#34;&gt;参考&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;ReplicationController&lt;/code&gt; 的设计目的是通过逐个替换 Pod 以方便滚动更新服务，&lt;a href=&#34;https://kubernetes.io/zh/docs/concepts/workloads/controllers/replicationcontroller/&#34;&gt;参考&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>ConfigMap</title>
      <link>https://kingye.me/study-kubernetes/docs/basic/concept/resource/configmap/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://kingye.me/study-kubernetes/docs/basic/concept/resource/configmap/</guid>
      <description>&lt;h1 id=&#34;configmap-基础&#34;&gt;&#xA;  ConfigMap 基础&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#configmap-%e5%9f%ba%e7%a1%80&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;ConfigMap 在运行时会将配置文件、命令行参数、环境变量、端口号以及其他配置工件绑定到 Pod 的容器和系统组件。借助 ConfigMap，您可以将配置与 Pod 和组件分开，这有助于保持工作负载的可移植性，使其配置更易于更改和管理，并防止将配置数据硬编码到 Pod 规范。&lt;/p&gt;&#xA;&lt;p&gt;ConfigMap 可用于存储和共享非敏感、未加密的配置信息。要在集群中使用敏感信息，您必须使用 Secret。&lt;/p&gt;&#xA;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200302214214.png&#34; width=&#34;30%&#34; height=&#34;30%&#34;&gt;&#xA;&lt;h2 id=&#34;创建-configmap&#34;&gt;&#xA;  创建 ConfigMap&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e5%88%9b%e5%bb%ba-configmap&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;使用以下命令创建 ConfigMap：&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;kubectl create configmap [NAME] [DATA]&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;[DATA] 可以是：&#xA;包含一个或多个配置文件的目录的路径，使用 &amp;ndash;from-file 标志指示&#xA;键值对，每个键值对都使用 &amp;ndash;from-literal 标志指定&#xA;如需详细了解 kubectl create，请参阅&lt;a href=&#34;https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#create&#34;&gt;参考文档&lt;/a&gt;。&lt;/p&gt;&#xA;&lt;p&gt;您还可以通过在 YAML 清单文件中定义 ConfigMap 对象并使用 kubectl create -f [FILE] 部署对象来创建 ConfigMap。&lt;/p&gt;&#xA;&lt;h2 id=&#34;使用-configmap&#34;&gt;&#xA;  使用 ConfigMap&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e4%bd%bf%e7%94%a8-configmap&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;apiVersion&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;v1&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;kind&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Pod&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;metadata&lt;/span&gt;:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dapi-test-pod&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;spec&lt;/span&gt;:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;containers&lt;/span&gt;:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    - &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;test-container&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;k8s.gcr.io/busybox&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;command&lt;/span&gt;:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/bin/sh&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-c&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;echo $(SPECIAL_LEVEL_KEY) $(SPECIAL_TYPE_KEY)&amp;#34;&lt;/span&gt;]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;env&lt;/span&gt;:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        - &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;SPECIAL_LEVEL_KEY&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &lt;span style=&#34;color:#f92672&#34;&gt;valueFrom&lt;/span&gt;:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;configMapKeyRef&lt;/span&gt;:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;              &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;special-config&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;              &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;SPECIAL_LEVEL&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        - &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;SPECIAL_TYPE_KEY&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &lt;span style=&#34;color:#f92672&#34;&gt;valueFrom&lt;/span&gt;:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;configMapKeyRef&lt;/span&gt;:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;              &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;special-config&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;              &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;SPECIAL_TYPE&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;restartPolicy&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Never&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Deployment</title>
      <link>https://kingye.me/study-kubernetes/docs/basic/concept/resource/deployment/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://kingye.me/study-kubernetes/docs/basic/concept/resource/deployment/</guid>
      <description>&lt;h1 id=&#34;deployment&#34;&gt;&#xA;  Deployment&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#deployment&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;故障排查&#34;&gt;&#xA;  故障排查&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e6%95%85%e9%9a%9c%e6%8e%92%e6%9f%a5&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200611002047.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://learnk8s.io/a/troubleshooting-kubernetes.pdf&#34;&gt;下载 pdf 版本&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;参考：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://learnk8s.io/troubleshooting-deployments&#34;&gt;A visual guide on troubleshooting Kubernetes deployments&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://www.qikqiak.com/post/troubleshooting-deployments/&#34;&gt;Kubernetes Deployment 故障排查常见方法&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;问答&#34;&gt;&#xA;  问答&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e9%97%ae%e7%ad%94&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;为什么要有-deployment&#34;&gt;&#xA;  为什么要有 Deployment&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e6%9c%89-deployment&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;</description>
    </item>
    <item>
      <title>CRD</title>
      <link>https://kingye.me/study-kubernetes/docs/basic/concept/resource/crd/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://kingye.me/study-kubernetes/docs/basic/concept/resource/crd/</guid>
      <description>&lt;h1 id=&#34;crd&#34;&gt;&#xA;  CRD&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#crd&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;如何实现一个-crd-&#34;&gt;&#xA;  如何实现一个 CRD ？&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa-crd-&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;关注&#34;&gt;&#xA;  关注&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e5%85%b3%e6%b3%a8&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;googlecloudplatformmetacontrollerhttpsgithubcomgooglecloudplatformmetacontroller-github-starshttpsimgshieldsiogithubstarsgooglecloudplatformmetacontrollersvg&#34;&gt;&#xA;  &lt;a href=&#34;https://github.com/GoogleCloudPlatform/metacontroller&#34;&gt;GoogleCloudPlatform/metacontroller&lt;/a&gt; &lt;img src=&#34;https://img.shields.io/github/stars/GoogleCloudPlatform/metacontroller.svg&#34; alt=&#34;Github stars&#34; /&gt;&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#googlecloudplatformmetacontrollerhttpsgithubcomgooglecloudplatformmetacontroller-github-starshttpsimgshieldsiogithubstarsgooglecloudplatformmetacontrollersvg&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;p&gt;Metacontroller is an add-on for Kubernetes that makes it easy to write and deploy &lt;strong&gt;custom controllers&lt;/strong&gt; in the form of simple scripts.&lt;/p&gt;&#xA;&lt;p&gt;This is not an officially supported Google product. Although this open-source project was started by GKE, the add-on works the same in any Kubernetes cluster.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Service</title>
      <link>https://kingye.me/study-kubernetes/docs/basic/concept/resource/service/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://kingye.me/study-kubernetes/docs/basic/concept/resource/service/</guid>
      <description>&lt;h1 id=&#34;service&#34;&gt;&#xA;  Service&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#service&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;type&#34;&gt;&#xA;  type&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#type&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;clusterip&#34;&gt;&#xA;  ClusterIP&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#clusterip&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;通过集群的内部 IP 暴露服务，选择该值，服务只能够在集群内部可以访问&lt;/li&gt;&#xA;&lt;li&gt;这也是&lt;strong&gt;默认&lt;/strong&gt;的 ServiceType&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;nodeport&#34;&gt;&#xA;  NodePort&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#nodeport&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;通过每个 Node 上的 IP 和静态端口（NodePort）暴露服务&lt;/li&gt;&#xA;&lt;li&gt;NodePort 服务会路由到 ClusterIP 服务，这个 ClusterIP 服务会自动创建&lt;/li&gt;&#xA;&lt;li&gt;通过请求 &lt;code&gt;&amp;lt;NodeIP&amp;gt;:&amp;lt;NodePort&amp;gt;&lt;/code&gt;，可以从集群的外部访问一个 NodePort 服务&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;loadbalancer&#34;&gt;&#xA;  LoadBalancer&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#loadbalancer&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;使用&lt;strong&gt;云提供商&lt;/strong&gt;的负载局衡器，可以向外部暴露服务&lt;/li&gt;&#xA;&lt;li&gt;外部的负载均衡器可以路由到 NodePort 服务和 ClusterIP 服务&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;访问方式&#34;&gt;&#xA;  访问方式&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e8%ae%bf%e9%97%ae%e6%96%b9%e5%bc%8f&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h4&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;内部：&lt;code&gt;ClusterIP:port&lt;/code&gt; (10.110.126.136:80)&lt;/li&gt;&#xA;&lt;li&gt;外部：&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;hostIP:nodePort&lt;/code&gt; (机器 IP:30032)&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;EXTERNAL-IP:port&lt;/code&gt; (xxxx:80)&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 没有 EXTERNAL-IP&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;NAME                        TYPE           CLUSTER-IP       EXTERNAL-IP   PORT&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;S&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;                                                                      AGE   SELECTOR&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;istio-ingressgateway        LoadBalancer   10.110.126.136   &amp;lt;pending&amp;gt;     15020:30332/TCP,80:30032/TCP,443:30551/TCP,31400:32430/TCP,15443:30294/TCP   13h   app&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;istio-ingressgateway,istio&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;ingressgateway&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;externalname&#34;&gt;&#xA;  ExternalName&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#externalname&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;通过返回 CNAME 和它的值，可以将服务映射到 externalName 字段的内容（例如， foo.bar.example.com）&lt;/li&gt;&#xA;&lt;li&gt;没有任何类型代理被创建&lt;/li&gt;&#xA;&lt;li&gt;CoreDNS 1.7 或更高版本才能使用 ExternalName 类型&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>Volume</title>
      <link>https://kingye.me/study-kubernetes/docs/basic/concept/resource/volume/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://kingye.me/study-kubernetes/docs/basic/concept/resource/volume/</guid>
      <description>&lt;h1 id=&#34;volume&#34;&gt;&#xA;  Volume&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#volume&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;volume-必须和-pod-在同一个-namespace&#34;&gt;&#xA;  Volume 必须和 pod 在同一个 namespace&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#volume-%e5%bf%85%e9%a1%bb%e5%92%8c-pod-%e5%9c%a8%e5%90%8c%e4%b8%80%e4%b8%aa-namespace&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;All sources are required to be in the same namespace as the Pod.&lt;/p&gt;&#xA;&lt;p&gt;参考：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://kubernetes.io/docs/concepts/storage/volumes/&#34;&gt;kubernetes.io: volumes&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/kubernetes/community/blob/master/contributors/design-proposals/node/all-in-one-volume.md&#34;&gt;all-in-one volume design document&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
  </channel>
</rss>
